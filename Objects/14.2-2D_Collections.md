# ðŸ§© **Mixing 2D Collections in Java**

---

## ðŸŽ¯ **Objectives**

1. Describe how to use **2D (nested) collections** in Java.
2. Create and manipulate **Lists of Lists**, **Sets of Sets**, and **Maps of Maps**.
3. Mix collection types â€” for example, a **Map of Lists**, or a **List of Maps**.
4. Choose the right 2D structure for a given data relationship.

---

## ðŸ§­ 1. What Are 2D Collections?

A **2D collection** is a collection that holds **other collections** as elements.
You can think of it as a **collection of collections**, like:

* A **List of Lists** â†’ behaves like a table or matrix
* A **Set of Sets** â†’ useful for unique groupings
* A **Map of Lists** or **Map of Sets** â†’ great for categorizing data by keys

These structures are especially helpful when modeling **real-world relationships**, like students with multiple grades, or categories with multiple items.

---

## ðŸ§© 2. 2D Lists (List of Lists)

A **List of Lists** is the most common 2D structure â€” often used to represent tabular data.

### Example: Student Grades (List of Lists)

```java
import java.util.*;

public class ListOfListsExample {
    public static void main(String[] args) {
        List<List<Integer>> grades = new ArrayList<>();

        grades.add(Arrays.asList(85, 90, 78)); // Student 1
        grades.add(Arrays.asList(92, 88, 95)); // Student 2
        grades.add(Arrays.asList(75, 80, 70)); // Student 3

        for (int i = 0; i < grades.size(); i++) {
            System.out.println("Student " + (i + 1) + " grades: " + grades.get(i));
        }
    }
}
```

**Output:**

```
Student 1 grades: [85, 90, 78]
Student 2 grades: [92, 88, 95]
Student 3 grades: [75, 80, 70]
```

âœ… **When to use:**
When order matters and duplicates are allowed (like rows of data).

---

## ðŸ§© 3. 2D Sets (Set of Sets)

A **Set of Sets** is useful when you need **unique groups of unique elements**, such as distinct tags, categories, or keyword groups.

### Example: Unique Keyword Groups

```java
import java.util.*;

public class SetOfSetsExample {
    public static void main(String[] args) {
        Set<Set<String>> keywordGroups = new HashSet<>();

        keywordGroups.add(new HashSet<>(Arrays.asList("java", "oop", "inheritance")));
        keywordGroups.add(new HashSet<>(Arrays.asList("python", "flask", "api")));
        keywordGroups.add(new HashSet<>(Arrays.asList("java", "spring", "mvc")));

        for (Set<String> group : keywordGroups) {
            System.out.println("Keyword group: " + group);
        }
    }
}
```

**Output (order may vary):**

```
Keyword group: [java, spring, mvc]
Keyword group: [python, api, flask]
Keyword group: [oop, inheritance, java]
```

âœ… **When to use:**
When both **group** and **element uniqueness** are important, and order doesnâ€™t matter.

---

## ðŸ§© 4. Maps of Lists

A **Map of Lists** is a very powerful pattern â€” used when one key maps to **multiple values**.

### Example: Department â†’ List of Employees

```java
import java.util.*;

public class MapOfListsExample {
    public static void main(String[] args) {
        Map<String, List<String>> departmentEmployees = new HashMap<>();

        departmentEmployees.put("HR", new ArrayList<>(Arrays.asList("Alice", "Bob")));
        departmentEmployees.put("IT", new ArrayList<>(Arrays.asList("Charlie", "Dana")));
        departmentEmployees.put("Sales", new ArrayList<>(Arrays.asList("Evan", "Fiona")));

        // Add another employee to IT
        departmentEmployees.get("IT").add("George");

        // Display map
        for (String dept : departmentEmployees.keySet()) {
            System.out.println(dept + ": " + departmentEmployees.get(dept));
        }
    }
}
```

**Output:**

```
HR: [Alice, Bob]
IT: [Charlie, Dana, George]
Sales: [Evan, Fiona]
```

âœ… **When to use:**
When one key (like a department) maps to **a list of related values** (employees).

---

## ðŸ§© 5. Maps of Sets

If you want to **ensure unique values** per key (no duplicates within a group), use a **Map of Sets**.

### Example: Course â†’ Set of Students

```java
import java.util.*;

public class MapOfSetsExample {
    public static void main(String[] args) {
        Map<String, Set<String>> courseStudents = new HashMap<>();

        courseStudents.put("Math", new HashSet<>(Arrays.asList("Alice", "Bob")));
        courseStudents.put("History", new HashSet<>(Arrays.asList("Bob", "Charlie")));
        courseStudents.put("Science", new HashSet<>(Arrays.asList("Alice", "Evan")));

        // Add duplicate (ignored by Set)
        courseStudents.get("Math").add("Alice");

        // Print map
        for (Map.Entry<String, Set<String>> entry : courseStudents.entrySet()) {
            System.out.println(entry.getKey() + " students: " + entry.getValue());
        }
    }
}
```

**Output:**

```
Math students: [Alice, Bob]
History students: [Charlie, Bob]
Science students: [Evan, Alice]
```

âœ… **When to use:**
When mapping keys to **unique** values (e.g., course enrollment, tags per category).

---

## ðŸ§© 6. List of Maps

A **List of Maps** is handy when you have **rows of structured key-value data** â€” like a spreadsheet or JSON dataset.

### Example: List of Books (Each Book = Map of Attributes)

```java
import java.util.*;

public class ListOfMapsExample {
    public static void main(String[] args) {
        List<Map<String, Object>> books = new ArrayList<>();

        Map<String, Object> book1 = new HashMap<>();
        book1.put("title", "Learning Java");
        book1.put("author", "Alice");
        book1.put("price", 39.99);

        Map<String, Object> book2 = new HashMap<>();
        book2.put("title", "Mastering Python");
        book2.put("author", "Bob");
        book2.put("price", 44.50);

        books.add(book1);
        books.add(book2);

        for (Map<String, Object> book : books) {
            System.out.println(book);
        }
    }
}
```

**Output:**

```
{author=Alice, title=Learning Java, price=39.99}
{author=Bob, title=Mastering Python, price=44.5}
```

âœ… **When to use:**
When modeling **records** (like database rows, JSON objects, or configuration files).

---

## ðŸ§© 7. Map of Maps

A **Map of Maps** allows you to organize complex keyâ€“value hierarchies.

### Example: School â†’ Class â†’ Teacher

```java
import java.util.*;

public class MapOfMapsExample {
    public static void main(String[] args) {
        Map<String, Map<String, String>> school = new HashMap<>();

        Map<String, String> mathDept = new HashMap<>();
        mathDept.put("Algebra", "Ms. Johnson");
        mathDept.put("Geometry", "Mr. Lee");

        Map<String, String> scienceDept = new HashMap<>();
        scienceDept.put("Physics", "Dr. Adams");
        scienceDept.put("Biology", "Dr. Clark");

        school.put("Math", mathDept);
        school.put("Science", scienceDept);

        for (String dept : school.keySet()) {
            System.out.println(dept + " Department: " + school.get(dept));
        }
    }
}
```

**Output:**

```
Math Department: {Algebra=Ms. Johnson, Geometry=Mr. Lee}
Science Department: {Physics=Dr. Adams, Biology=Dr. Clark}
```

âœ… **When to use:**
For hierarchical data (e.g., organizations, nested categories, settings).

---

## ðŸ§  8. Summary Table

| Type                  | Structure    | Description                   | Example Use                   |
| --------------------- | ------------ | ----------------------------- | ----------------------------- |
| `List<List<T>>`       | 2D List      | Ordered, allows duplicates    | Grids, tables                 |
| `Set<Set<T>>`         | 2D Set       | Unique groups of unique items | Keyword clusters              |
| `Map<K, List<V>>`     | Map of Lists | Key to ordered list of values | Department â†’ Employees        |
| `Map<K, Set<V>>`      | Map of Sets  | Key to unique values          | Course â†’ Students             |
| `List<Map<K, V>>`     | List of Maps | Rows of key-value pairs       | JSON-like data                |
| `Map<K1, Map<K2, V>>` | Map of Maps  | Nested key-value hierarchy    | Category â†’ Subcategory â†’ Item |

---

## ðŸ§© 9. Best Practices

âœ… Use **interfaces** (`List`, `Set`, `Map`) for flexibility.
âœ… Use **generics** for type safety.
âœ… Choose **List** when order matters and duplicates are allowed.
âœ… Choose **Set** when uniqueness matters.
âœ… Choose **Map** for key-value relationships.
âœ… Mix them to represent real-world relationships naturally.

---

## ðŸ§© 10. Challenge Exercise

**Task:**
Create a program that models a **library catalog** using:

* A `Map<String, List<Map<String, Object>>>`

  * Key = genre (e.g., "Fiction", "Science")
  * Value = list of books (each book is a map with title, author, and year)

Then, print the catalog in JSON-style format.

---
